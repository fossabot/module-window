sudo: required

language: generic

git:
  depth: false

dist:
  xenial

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: KLvsQKRQ8g6/LPcOv38zNIacp9Qt5gsDYXFRtSq8NpAs7TEoaePed8EXG605GmvL5v6jo7hGva1pd1ZTPXjMUQWKQNf4XFlH1qSF674z8Az/uOIVf3tBL+VgCb2/UtrN87mADDiPWaI5s7CAAFYPhRxhGtJfEjKFxG6RRg130632xxkdAZLFPY/IvF5cueo1/AL1esSfvYoGQyWsXJNypeXyLMjs0Ik16F9QPTt8fAFGpatIkPziNS/jmSsxPGyVp+j16ZP9mRxgbH1thtnD+cvw0sFgqunxqlDV77UXabkUhdTCPRMcW3g+FOumA+NRfV8Y997FA1gSw5WuOcvfeK06t7ZgqCfLR9CBD0DbLgKvBboCAnC6mHxBz/x4ilt6JYyrPmtF0JJZ/A7P0wIQmbgKP3aUk9hueimsqFO+ux1IsqB0q969ifo/SlSWN9sWMkf9c+sy0kCepA05DGKanD5ezz+tGUiL+93MUggT4y4vcjdFwYEXBeAhqUUqThzM8VGcyeB+e/j2zk/nHgBYuilEg1TT1zXRbMhgTM4jqd9esOPBZCLNvWWF36TZ42MBNH5YF1qNe0wELTgQ8ufoKA6y2q6975oypPe5rrfdYMjuJ0exaIE6O8J+wS37gyybZQ9cMXhyz+FCJ8G8XbstiAItRKuDyuYIK8fau7maFiY=
  - secure: kdisFVMHbyBVmqE/zwm240HYger9NZR84OYc6amE/KuyLrJadaDa6ybnjwxEXLVEpcyuUgBLVVf4x+HxNL5+KDCYSSZ2BgnJ4Kg1R8kMF60C325QrNWG7bNdCw2lAQpAMyArSGVXj+mjhmoXziMBubW+HIDAxA+Ve2IN5XIi8WtoevM7Q/N8ATxj9gnfo2XQuHsmLJkcDijBOY/Axi6sxJs73UH3Az0JJD2hMuHCMi+hN3YFgnfuL6KmKuOHSy7IQ2zSgsxzGcqKQ0HUuQj5R59xcJYQSDmZ7gwyVqHgikxIBvZrPF4nQODji2nBhyuuXeC5Hc5gAh4HCcGPx7raCj42/Uscq+ONzqigxO9aaLYtRdAGoeFC3gkQBtk5g7yyYbx48fNyk3o8DqSExCSxxziYISEjWUxUx1zd66vex47X/3QW8nr+FLB/hMS/CWfM7Y1l/75oQRik1ePymFBFzluMAUpiZsj/gdbmeREvp6NwuQbE+bINOVefo7NZv3vijCxBZfYp6wPDAbh4Xv1uePB77FzK7JxSUZGvubhJ0J9S1HAKY/+QJLN1+iYNqi9gSzsftZ/JDPrnXzFJdjSagvSxH3O3tmOYBPRidRFvNjHfe/6ojOs8ZH8/CL6pl75LFYPxnXQgfG+AD0/xQG5eFo9fnclBY0jb5mt3oEyhLMw=
  - secure: n2T7HOrTlvDrVs1uRFwXAmTSllziYAwr6gm4dXgD2aoGglGJzyb3uitZL3hrnNDdAsBbFMqXnxIgE5JDLjYNEAnVhWacnHY9W0vAY+6RT3szeS7aNZReGzNJdwOIjoFyZObwXYYq7L7lq9WbQp5PG+URIK/zuRGEcSTOrV6+I0/iqKh0g8m2INZHqFdvXlB99ZZcxBC7dmR2/39t8YSNVzuM5oJ3QD+HLgDeZVFMDoAmKnxr9fJvdP82KMexfEPiLPPcg7AjGOT3dC+jw6tFnLVGu80lsxK8q7MJ+Jx8SAleigT+Qx66X2ZJUhyUCo7CXXY4to1N5mIIIJKNPq8R35RzKRZcvkEelzAx4kykEob0a05ckhFVDvviPp6JSCDrgE/jCfF4cnxEnFpvekZlfT44OK6V6UJyFUsGL86m9sLKuaGECZzcBQpE3CdPon1Bo/4lkXS/sebBtky5Azgt+iHWtyq1G1PolBzG0UzeZdJ05Gt3a99MgJFwP7fB7FFlf6NVG7Ep/oYfbBCLYCqNmwyfwSbdCmpWSM4fimToj+ZhY0yi9mjC0owNQy9xXuprNvftuADeJyc4dpKiKSu0lEHatxX5cvKL2R3dLCp09imScpPGjZRRHCsY7JDZ3/xEqnvSSWcFIIcw3h5Sh6vgmElqGTrAFKzcj5mrphVXf7c=
  - secure: Vw9tLdF1J1MTX9JD4QIJAZPHrA1sc7pARihypfSFVaY+HCyyEJEYBLJpl8onAPRnt7tUE5d/hTTvtsdjKKcE4MpXr56UpdDRxxSNcenqc1hsGuNX0J+h5UJ8og4HpaClgao44YH8Q0+ueLj+4YDLkVZpPcOqrryeuQCQQJCT1LAobDEOiKEWd6FFYE22xovzh4Jbv/+Q/HJCoSR5to+PXo/acmYOZz2bnbgXpuX/oTuuwN+ZJHmt/dJr+8Llplk1+TFTkp2VXGOXMsFo1WrFqBHngOQ50pfoQ1HszHNqiQn/6UTezRFgU5rDQiutRioitittAeeqfTlVIIdT4qop+jhznS2DAshWm1QDGwnPJIZylCBjzJVQRXkMfULnKpu7PlA9LDbU1Pm+cFadB31puMYK6ih5rCjKhTPzb35+WxCpoBMdWdqMi2PO5tk5cHCWMImg5R3Z9ZsjR4MPLHAA3ZHSxv7o1NYgj3SwC/SsVW/FFVJc5xy3osIZhgKskrE9GWVJz1T4cre/MTI83ve7HConCUQ/C0PSGI2G8Y/t+KTfXnSKsYHWRNJrKrdWAMLpSp1hEPnYl7FH+hpgsqwtYuEZEudaV+haDsb9d3GMRgx5IvswXCZQuDesXarilMyekT0iA469TMztgFAUyaK3l8WV49U75NMW+byMkOj8D+8=
  - secure: mj31YPA3RVr4nRVz3a8r+o0gBCengN7uafrPXq72igoRyz9BXdL3Uxsm1sesUZlzdHreheThj5bogafNkaIGvi59uXsQP5E6Yy3AfGnZCIGDjwnjls2nhWDqQBzhJtH9fgaWqpOKfGliAI60FELFOtRIRXq3b2Q8A3Ly+7Ahx3MkO+P/xbK0iBLJln+B93cbGvo4sRPzm/Roy1NFz14gS+i4jQdSUY1B+fe2OFMjtiUV7eyqxG5zQq1EF4ssKdhg0Uut9xY4a+QmfM4gvWr8Kr7zYJoHQx/aCPAZ6mZKtI5MRmg9Dp6/c1KKP2H1q0asZPTNStvMA6/uU/d1LnNavmhF6viqRXLQVYooJ80ty3KqnkDfW98xKEeRW4OdPtGgFANP7y4DLix+xHU3pSfOFCVa7rytWmy9O8NKnzecKuwsnRczNdZ10xkCmFqYcngUuQxskHsYRb9pJ6CcOMAzvl3UFiwGHNmS4onQkXd+lcJ+KOT2Mlit9HKEnOiXTIvcrN0h1LHRGCi4Y5kMQsx78I9KR/FEVOeofCv/atsXYp6PcG1giukC1cQ+kFT29P2ewmeJ5MSh9bWS9DB+FjPoz7IYcFISpMmH7HBoIuQ8+I7NwkuFxMN5KOQjTx1/u6jxo4IGDsf+EYuh4f6hXjbEOIxfNZiDkNB2721EAo+GpAo=
  - secure: DRUWrB5HK2hjCtnkt5bX4MoH0N0HsGC2I0UtHCZmI0juqG7viV3MpHvmM6Mbhs2rp7Lt6dtXdP6/MqOa/NOsOubN0GcytorvPxkKXOE14wWG1aVS3lFLfWwT98bPuB9H2nw46TIr0Br3Gmrsyjue+tWzTXCsucw2sjWbeeOs09NTU3ivmnkvGYmrOA1TMn4fp/gfH3ohN7WejGsPO/G0AwTdqGkrOnMpwLO0M5KGQAt7KT/UvD6cek/OzO1vHp54RziMcAp1BqZ/mQ69t72BaEgGafoshIKWnTjKm96kOY21HBTKoH48JwLoLB/pdT3z/kyzbvbfNGPyOrG1AQ3of5cSVv3jTR4xDcvRuVDkJ+c1PHAJfTmtOz43ZqJbW0Ne0o02qZEVVSY/pAKyzahrLSgzFy2Mx3+CV0TpDWjdkWIU5SHjprfkXeBsOqOJFe0SvAgF500m1fwSGTSTBc7fMd33WiP0/yYRAGvCZtWvJE8wqpmuqf8eufvO+0gmnyL94u4zV0OexWeniBTlilwQ9+jOOxfGg1oG7nGRG4lcYJ1PW9uTbhoSkpprUgCPJAaOfKDpZbX1kbhejOBFcSGR8xu7DDqARjK7YDJHvpEt5elx09IJHo/BeQ4BlQfwc0iEqvyKuRxa/75iooBcFnUF38FWBVdGU1NYPeYi9ETBMqc=
  - secure: lFwMF6WPXB9Wqbl/8a5nc22/fcS8oukB3CsL9YitReCxlBP1ypGntyi/vhJ1Gv534mQPRCPFPKWQLvLtDAMdhzAAmd1J9bkHczAPgHlxNywl52QAsoeBR6+04NKV8unXMsZHbC/IAtykfH4fwIZJ4uM8izldBWsKLoerB9uLK3tsOs8jHP1Ybvou2jp8RjXoKDwT7QCL0rLdqo2rTqrrBr/QVRs1dLgOqrYCnVQjFGfS/RsDAJdumnnhZUgY1imVpTjfzpqYOWJq++75ryMA8U7WP6rMdz2uIzp1VjwIa3MI3z91p+pPdFBf3+SmF3sr6/MJWUhWG6U3PHKlQhltNkxXEmjUMpJ9YiJQXz9RrVtgqTxaBF1sSc1WQ3ZOM8Y+qoEAB9sEcvPZ3jHbc27CoqxFyz7I4DFpNeCfPsn77kuGvzh72XBpCxVRQeprV8j1qSEa8CWgLYaa3Rf4Ku9q+Bl3bA31qFnrOoHd4tKa/a3ZT8okS7nft/38fTqiXdzLfo1Sr3F2sBPlP2cyHtYFh9nbTOyYIL1aTr2OzH1fC+4ARyvxSDNXD6Sk6bXlwn+B4pYlWmOoQ/DyJbLzJzK4XepPsiUIeSGJP8l6PTZeG8+JkZS1wHS6aa04LhHeS3Al60VfyIeXOGcB9XcLYFF9xZOuuUEM9sJ/6unDNS07gY4=
  - secure: CuEiMvlPCMF35I7hwpDgmgevtSeh//HIcbAWHs6A0lIlohCsZwQXnSD+Ioif1EluxIIVnMC/ezGMkl1FrHrQOcYF1UlyykGeCDiqdmxEke2NfztTClt5XrmkkmPpXgfNMUDA0ovAOg3eIiuMumZuOIxUdhL5ra2owID0kfwjfFuzsxF9XYuS1BT1FEo06LIPPKeu6bZBTLx/kHWg6pQdcWOSM4GFl6sk2eOsJDrVgqqyHQXJgujspfFQmS+V+tF39wMAWsEyJ3WO/+7lS87RQxcsG6xbu631XfT920JXhmEc/2zm94gXWphNkJtKCQTiAtJCplcC8L0kSY1SlRgEajaSLEPFezfS4ID3w892IKRBVIF0N+ZEpR0bndyCpsCyunxphJAshvq51hMuKBzU6Novtrf48ks6q/Vyz4dQOYDy+3qprzfZWz2GzlWx/B4VRk4AkWQvysRedtsylINHV651Mp0fvPjGDR2pIYAKt+hGhM+pO54lpuSpZGlVIhcae4eZM+l/XiNyqospHzrq5TwoVdvJLS8KFTPyIfddDcOfwOIbtJBj/ThRpCd3NYbFm51POr6GjNDxGfxK43aWZ4RAYoTZb6sqHa35QIbJNzGEI2CAkquD2HKHOdxhfL+js1azmPouT4a9iZ5zHkI2/2+WcB04yF0S9H0CvJ6UmeE=
  - secure: fZnSuPI051oFP/C0p0BccMsXIdNogtBpon6cmJAY5Bvr5niJZr27NE9ZGNMUKMh9+Z9AZMAtZES5XUdgXRKmQzLjvRK/sOK4reeMt2fIx34w3bBvEoMlTHmLZPb42gKxPohSYSwMXvkOqUWVPJicA6TIw94sW7DvrdNVmxv3y29K2DnWEeCLqpnXxrusOuSt86ofxQAr7K2hFgOOUzADD+Mi+pE2xcIlw37DZNXEK/Iuba9ySv8nKdEdfDZyywgMEsmgQUdC0C8Eu10XIeTyEcPBu5qQA3tqGhuqJlse5fhOL2SFOV211ES1mBZ74/IfDEiMQQyGHFl8S5FM2Lm2e8TKRPfp5LvE5d5Mh2au3WGlWKFP4LbT7ajs5WSa7qOHHimhHBUQvKZe/uKRHnzhODOEqnhTct7GGJkvPAI2Xx1tixndKgqlYTHfbOXoJaq4HgMDQR05gcUW2UG1OCLcGdJ/yJEjngPcIPUo7SAgJ0uNKNaTkNZzLl/3Tufa2L+1YaPxm2kZswp7p8NOPGTcDhuCQHwsxeb7l8qd1tABJmD1CkRC9/WvsguZxQoYbvSW2DvgW5MZHw4w49oCeSkWb3pclaCrm4Nyik8WJMtwQd3/Ax4LJ+CRlRopAQYkdOysAdzcJGRIV6FGX2E8TD2ZzAdhkiY+8S6nzmO90riqKhE=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
